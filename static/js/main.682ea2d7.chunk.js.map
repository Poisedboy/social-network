{"version":3,"sources":["components/Navbar/navbar.module.css","Redux/auth-reducer.js","serviceWorker.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/navbar.jsx","components/Utils/object-helpers.js","Redux/users-reducer.js","components/Common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","Redux/users-selectors.js","components/Users/UsersConatiner.jsx","Redux/app-reducer.js","components/HOC/withSuspense.js","App.js","Redux/sidebar-reducer.js","Redux/redux-store.js","index.js","components/Common/Preloader/Preloader.js","components/Common/Paginator/Paginator.module.css","components/Header/header.module.css","Redux/profile-reducer.js","components/API/api.js","components/Image/1.png","Redux/dialogs-reducer.js","components/Users/users.module.css","components/Image/preloader.gif","components/Common/Preloader/preloader.module.css"],"names":["module","exports","initialState","userId","email","login","isAuth","setAuthUserData","type","data","getAuthUserData","dispatch","a","authAPI","me","response","resultCode","id","password","rememberMe","message","messages","length","stopSubmit","_error","logout","authReducer","state","action","Boolean","window","location","hostname","match","Header","props","className","h","header","src","alt","loginBlock","onClick","to","HeaderContainer","this","React","Component","connect","auth","Nav","classes","nav","item","activeClassName","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","p","cn","selectedPage","pageNumber","key","e","User","user","unfollow","follow","photos","small","userPhoto","disabled","some","name","status","Users","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","Preloader","compose","usersAPI","bind","totalCount","initialized","appReducer","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","Login","App","initializeApp","exact","path","render","withRouter","app","promise","Promise","all","then","sidebarReducer","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","form","formReducer","store","createStore","applyMiddleware","thunkMiddleWare","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","sasha","box","preloader","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getStatus","profileAPI","updateStatus","getUsersProfile","getProfile","savePhoto","file","newPost","instance","axios","withCredentials","baseURL","headers","get","post","delete","warn","put","photoFile","formData","FormData","append","dialogs","sendMessageCreator","newMessageBody","body"],"mappings":"0GACAA,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,OAAS,yB,0QCI7EC,EAAe,CACfC,OAAQ,KACRC,MAAO,KACPC,MAAO,KACPC,QAAQ,GAgBCC,EAAkB,SAACJ,EAAQC,EAAOC,EAAOC,GAAvB,MAAmC,CAC9DE,KAvBkB,gBAwBlBC,KAAM,CAACN,SAAQC,QAAOC,QAAOC,YAGpBI,EAAkB,yDAAM,WAAOC,GAAP,uBAAAC,EAAA,sEACVC,IAAQC,KADE,OAED,KAD1BC,EAD2B,QAErBN,KAAKO,aAAmB,EACPD,EAASN,KAAKA,KAAlCQ,EAD0B,EAC1BA,GAAIb,EADsB,EACtBA,MAAOC,EADe,EACfA,MAChBM,EAASJ,EAAgBU,EAAIb,EAAOC,GAAO,KAJd,2CAAN,uDAQlBA,EAAQ,SAACD,EAAOc,EAAUC,GAAlB,8CAAiC,WAAOR,GAAP,iBAAAC,EAAA,sEAC3BC,IAAQR,MAAMD,EAAOc,EAAUC,GADJ,OAElB,KAD1BJ,EAD4C,QAEtCN,KAAKO,WACbL,EAASD,MAELU,EAAUL,EAASN,KAAKY,SAASC,OAAS,EAAIP,EAASN,KAAKY,SAAS,GAAK,aAC9EV,EAASY,YAAW,QAAS,CAACC,OAAQJ,MANQ,2CAAjC,uDAURK,EAAS,yDAAM,WAAOd,GAAP,SAAAC,EAAA,sEACDC,IAAQY,SADP,OAES,IAFT,OAEXhB,KAAKO,YACdL,EAASJ,EAAgB,KAAM,KAAM,MAAM,IAHvB,2CAAN,uDAOPmB,IA3CK,WAAmC,IAAlCC,EAAiC,uDAAzBzB,EAAc0B,EAAW,uCAClD,OAAQA,EAAOpB,MACX,IAXc,gBAYV,OAAO,uCACAmB,GACAC,EAAOnB,MAFd,IAGIH,QAAQ,IAEhB,QACI,OAAOqB,K,wCCTCE,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,+GCDSC,EAbA,SAAAC,GACb,OACE,4BAAQC,UAAWC,IAAEC,QACnB,yBAAKC,IAAI,wEAAwEC,IAAI,SACrF,yBAAKJ,UAAWC,IAAEI,YACfN,EAAM7B,OACH,6BAAM6B,EAAM9B,MAAZ,MAAqB,4BAAQqC,QAASP,EAAMV,QAAvB,YACrB,kBAAC,IAAD,CAASkB,GAAI,UAAb,Y,gBCNNC,E,kLAGFC,KAAKV,MAAMzB,oB,+BAIX,OAAO,kBAAC,EAAWmC,KAAKV,W,GAPEW,IAAMC,WAgBrBC,eALS,SAACrB,GAAD,MAAY,CAClCrB,OAAQqB,EAAMsB,KAAK3C,OACnBD,MAAOsB,EAAMsB,KAAK5C,SAGoB,CAAEK,oBAAiBe,YAA5CuB,CAAuDJ,G,iBCQvDM,EAzBH,WACV,OACE,yBAAKd,UAAWe,IAAQC,KACtB,yBAAKhB,UAAWe,IAAQE,MACtB,kBAAC,IAAD,CAASV,GAAG,WAAWW,gBAAiBH,IAAQI,QAAhD,YAEF,yBAAKnB,UAAWe,IAAQE,MACtB,kBAAC,IAAD,CAASV,GAAG,WAAWW,gBAAiBH,IAAQI,QAAhD,aAEF,yBAAKnB,UAAWe,IAAQE,MACtB,kBAAC,IAAD,CAASV,GAAG,QAAQW,gBAAiBH,IAAQI,QAA7C,SAEF,yBAAKnB,UAAWe,IAAQE,MACtB,kBAAC,IAAD,CAASV,GAAG,SAASW,gBAAiBH,IAAQI,QAA9C,UAEF,yBAAKnB,UAAWe,IAAQE,MACtB,kBAAC,IAAD,CAASV,GAAG,YAAYW,gBAAiBH,IAAQI,QAAjD,aAEF,yBAAKnB,UAAWe,IAAQE,MACtB,kBAAC,IAAD,CAASV,GAAG,SAASW,gBAAiBH,IAAQI,QAA9C,Y,qDCtBKC,EAAsB,SAACC,EAAOC,EAAQC,EAAaC,GAC5D,OAAOH,EAAMI,KAAI,SAAAC,GACb,OAAIA,EAAEH,KAAiBD,EACZ,2BAAKI,GAAMF,GAEfE,MCKX5D,EAAe,CACf6D,MAAO,GACPC,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbC,YAAY,EACZC,oBAAqB,IAgDZC,EAAgB,SAAClE,GAAD,MAAa,CACtCK,KA/DW,SA+DGL,WAGLmE,EAAkB,SAACnE,GAAD,MAAa,CACxCK,KAlEa,WAkEGL,WAOPoE,EAAiB,SAACL,GAAD,MAAkB,CAC5C1D,KAxEqB,mBAwEG0D,gBAOfM,EAAmB,SAACL,GAAD,MAAiB,CAC7C3D,KA9EuB,qBA8EG2D,WAAYA,IAG7BM,EAA0B,SAACN,EAAYhE,GAAb,MAAyB,CAC5DK,KAjFiC,+BAiFG2D,aAAYhE,WAgB9CuE,EAAkB,uCAAG,WAAO/D,EAAUR,EAAQwE,EAAWC,GAApC,SAAAhE,EAAA,6DACvBD,EAAS8D,GAAwB,EAAMtE,IADhB,SAEAwE,EAAUxE,GAFV,OAIU,IAJV,OAIVM,KAAKO,YACdL,EAASiE,EAAczE,IAE3BQ,EAAS8D,GAAwB,EAAOtE,IAPjB,2CAAH,4DAsBT0E,EA5GM,WAAmC,IAAlClD,EAAiC,uDAAzBzB,EAAc0B,EAAW,uCACnD,OAAQA,EAAOpB,MACX,IAnBO,SAoBH,OAAO,2BACAmB,GADP,IAEIoC,MAAOP,EAAoB7B,EAAMoC,MAAOnC,EAAOzB,OAAQ,KAAM,CAAE2E,UAAU,MAGjF,IAxBS,WAyBL,OAAO,2BACAnD,GADP,IAEIoC,MAAOP,EAAoB7B,EAAMoC,MAAOnC,EAAOzB,OAAQ,KAAM,CAAE2E,UAAU,MAEjF,IA5BU,YA6BN,OAAO,2BACAnD,GADP,IAEIoC,MAAOnC,EAAOmC,QAEtB,IAhCiB,mBAiCb,OAAO,2BACApC,GADP,IAEIuC,YAAatC,EAAOsC,cAE5B,IApCsB,wBAqClB,OAAO,2BACAvC,GADP,IAEIsC,gBAAiBrC,EAAOmD,QAEhC,IAxCmB,qBAyCf,OAAO,2BACApD,GADP,IAEIwC,WAAYvC,EAAOuC,aAE3B,IA5C6B,+BA6CzB,OAAO,2BACAxC,GADP,IAEIyC,oBAAqBxC,EAAOuC,WAAP,sBACXxC,EAAMyC,qBADK,CACgBxC,EAAOzB,SACtCwB,EAAMyC,oBAAoBY,QAAO,SAAA/D,GAAE,OAAIA,IAAOW,EAAOzB,YAEnE,QACI,OAAOwB,I,0DCtBJsD,EAnCG,SAAC,GAKf,IAL8F,IAA9EC,EAA6E,EAA7EA,gBAAiBlB,EAA4D,EAA5DA,SAAUmB,EAAkD,EAAlDA,cAAejB,EAAmC,EAAnCA,YAAmC,IAAtBkB,mBAAsB,MAAR,GAAQ,EAEzFC,EAAaC,KAAKC,KAAKL,EAAkBlB,GAEzCwB,EAAQ,GACJC,EAAI,EAAGA,GAAKJ,EAAYI,IAC5BD,EAAME,KAAKD,GAGf,IAAIE,EAAeL,KAAKC,KAAKF,EAAaD,GATmD,EAUrDQ,mBAAS,GAV4C,mBAUxFC,EAVwF,KAUzEC,EAVyE,KAWzFC,GAAyBF,EAAgB,GAAKT,EAAc,EAC5DY,EAAyBH,EAAgBT,EAE7C,OAAO,yBAAKhD,UAAW6D,IAAOC,WACrBL,EAAgB,GACb,4BAAQnD,QAAS,WAAQoD,EAAiBD,EAAgB,KAA1D,QAEHL,EACIR,QAAO,SAAAmB,GAAC,OAAIA,GAAKJ,GAAyBI,GAAKH,KAC/CnC,KAAI,SAAAsC,GACD,OAAO,0BAAM/D,UAAWgE,IAAG,eACtBH,IAAOI,aAAenC,IAAgBiC,GACxCF,IAAOK,YACNC,IAAOJ,EACPzD,QAAS,SAAC8D,GACNrB,EAAcgB,KACdA,MAGfR,EAAeE,GACZ,4BAAQnD,QAAS,WAAQoD,EAAiBD,EAAgB,KAA1D,U,kCCIDY,EAlCF,SAAC,GAAmD,IAAlDC,EAAiD,EAAjDA,KAAMtC,EAA2C,EAA3CA,oBAAqBuC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,OAChD,OACI,6BACI,8BACI,6BACI,kBAAC,IAAD,CAASjE,GAAI,YAAc+D,EAAKzF,IAC5B,yBAAKsB,IAA0B,MAArBmE,EAAKG,OAAOC,MAAgBJ,EAAKG,OAAOC,MAAQC,IAClD3E,UAAW6D,IAAOc,UAAWvE,IAAI,OAGjD,6BACKkE,EAAK5B,SACA,4BAAQkC,SAAU5C,EACf6C,MAAK,SAAAhG,GAAE,OAAIA,IAAOyF,EAAKzF,MACxByB,QAAS,WAAOiE,EAASD,EAAKzF,MAFhC,YAGA,4BAAQ+F,SAAU5C,EACf6C,MAAK,SAAAhG,GAAE,OAAIA,IAAOyF,EAAKzF,MACxByB,QAAS,WAAOkE,EAAOF,EAAKzF,MAF9B,YAKd,8BACI,8BACI,6BAAMyF,EAAKQ,MACX,6BAAMR,EAAKS,SAEf,8BACI,6BAAM,sBACN,6BAAM,6BCZXC,EAhBD,SAAC,GAA8E,IAA7ElD,EAA4E,EAA5EA,YAAaiB,EAA+D,EAA/DA,cAAelB,EAAgD,EAAhDA,gBAAiBD,EAA+B,EAA/BA,SAAUD,EAAqB,EAArBA,MAAU5B,EAAW,oFACxF,OAAO,6BACH,kBAAC,EAAD,CAAW+B,YAAaA,EACpBiB,cAAeA,EACfD,gBAAiBjB,EACjBD,SAAUA,IAGdD,EAAMF,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAM4C,KAAM5C,EAAGyC,IAAKzC,EAAE7C,GACrBmD,oBAAqBjC,EAAMiC,oBAC3BwC,OAAQzE,EAAMyE,OACdD,SAAUxE,EAAMwE,gB,yBCT3BU,GAAWC,cAJC,SAAC3F,GACtB,OAAOA,EAAM4F,UAAUxD,SAG8B,SAACA,GACtD,OAAOA,EAAMiB,QAAO,SAAAlB,GAAC,OAAI,QAGhB0D,GAAc,SAAC7F,GACxB,OAAOA,EAAM4F,UAAUvD,UAGdyD,GAAqB,SAAC9F,GAC/B,OAAOA,EAAM4F,UAAUtD,iBAGdyD,GAAiB,SAAC/F,GAC3B,OAAOA,EAAM4F,UAAUrD,aAGdyD,GAAgB,SAAChG,GAC1B,OAAOA,EAAM4F,UAAUpD,YAGdyD,GAAyB,SAACjG,GACnC,OAAOA,EAAM4F,UAAUnD,qBClBrByD,G,4MAMF1C,cAAgB,SAACmB,GACb,EAAKnE,MAAM2F,aAAaxB,EAAY,EAAKnE,MAAM6B,W,kEAJ/CnB,KAAKV,MAAM2F,aAAajF,KAAKV,MAAM+B,YAAarB,KAAKV,MAAM6B,Y,+BAQ3D,OAAO,oCACFnB,KAAKV,MAAMgC,WAAa,kBAAC4D,EAAA,EAAD,MAAgB,KACzC,kBAAC,EAAD,CAAO9D,gBAAiBpB,KAAKV,MAAM8B,gBAC3BD,SAAUnB,KAAKV,MAAM6B,SACrBE,YAAarB,KAAKV,MAAM+B,YACxBiB,cAAetC,KAAKsC,cACpBpB,MAAOlB,KAAKV,MAAM4B,MAClB6C,OAAQ/D,KAAKV,MAAMyE,OACnBD,SAAU9D,KAAKV,MAAMwE,SACrBlC,wBAAyB5B,KAAKV,MAAMsC,wBACpCL,oBAAqBvB,KAAKV,MAAMiC,2B,GArBvBtB,IAAMC,WAqCpBiF,eACXhF,aAZkB,SAACrB,GACnB,MAAO,CACHoC,MAAOsD,GAAS1F,GAChBqC,SAAUwD,GAAY7F,GACtBsC,gBAAiBwD,GAAmB9F,GACpCuC,YAAawD,GAAe/F,GAC5BwC,WAAYwD,GAAchG,GAC1ByC,oBAAqBwD,GAAuBjG,MAM5C,CAACiF,OLoEa,SAACzG,GACnB,8CAAO,WAAOQ,GAAP,SAAAC,EAAA,sDACH8D,EAAmB/D,EAAUR,EAAQ8H,IAASrB,OAAOsB,KAAKD,KAAW5D,GADlE,2CAAP,uDKrEasC,SL0EO,SAACxG,GACrB,8CAAO,WAAOQ,GAAP,SAAAC,EAAA,sDACH8D,EAAmB/D,EAAUR,EAAQ8H,IAAStB,SAASuB,KAAKD,KAAW3D,GADpE,2CAAP,uDK3EuBC,iBAAgBE,0BAAyBqD,aL6CxC,SAAC5D,EAAaF,GACtC,8CAAO,WAAOrD,GAAP,eAAAC,EAAA,6DACHD,EAAS6D,GAAiB,IAC1B7D,EAAS4D,EAAeL,IAFrB,SAIgB+D,IAASZ,SAASnD,EAAaF,GAJ/C,OAIGvD,EAJH,OAMHE,EAAS6D,GAAiB,IAC1B7D,EA5B4B,CAChCH,KArEc,YAqEGuD,MA2BKtD,EAAKgD,QACvB9C,EArBgD,CACpDH,KA3E0B,wBA2EGuE,MAoBGtE,EAAK0H,aAR9B,2CAAP,yDKhDWH,CAGbH,IC7CE3H,GAAe,CACfkI,aAAa,GAyBFC,GAtBI,WAAmC,IAAlC1G,EAAiC,uDAAzBzB,GAAc0B,EAAW,uCACjD,OAAQA,EAAOpB,MACX,IARoB,sBAShB,OAAO,2BACAmB,GADP,IAEIyG,aAAa,IAErB,QACI,OAAOzG,ICbN2G,GAAe,SAACvF,GACzB,OAAO,SAACZ,GACJ,OAAO,kBAAC,IAAMoG,SAAP,CAAgBC,SAAU,kBAACT,EAAA,EAAD,OACjC,kBAAChF,EAAcZ,MCMjBsG,GAAmB3F,IAAM4F,MAAM,kBAAM,uDACrCC,GAAmB7F,IAAM4F,MAAM,kBAAM,uDACrCE,GAAQ9F,IAAM4F,MAAM,kBAAM,uDAG1BG,G,kLAGFhG,KAAKV,MAAM2G,kB,+BAIX,OAAIjG,KAAKV,MAAMiG,YAKb,yBAAKhG,UAAU,eACb,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,yBAAKA,UAAU,uBACb,kBAAC,IAAD,CAAO2G,OAAK,EAACC,KAAK,WAChBC,OAAQX,GAAaG,MACvB,kBAAC,IAAD,CAAOO,KAAK,oBACVC,OAAQX,GAAaK,MACvB,kBAAC,IAAD,CAAOK,KAAK,SACVC,OAAW,kBAAM,kBAAC,GAAD,SACnB,kBAAC,IAAD,CAAOD,KAAK,SACVC,OAAQ,WACN,OAAO,kBAAC,IAAMV,SAAP,CAAgBC,SAAU,4CACjC,kBAACI,GAAD,YAjBD,kBAACb,EAAA,EAAD,U,GARKjF,IAAMC,WAsCTiF,eACbkB,IACAlG,aANsB,SAACrB,GAAD,MAAY,CAClCyG,YAAazG,EAAMwH,IAAIf,eAKE,CAACU,cFnCC,kBAAM,SAACnI,GAChC,IAAIyI,EAAUzI,EAASD,eACvB2I,QAAQC,IAAI,CAACF,IACRG,MAAK,WACF5I,EAN8B,CAACH,KAlBf,+BEqDbwH,CAE+Ba,I,kBCzD1C3I,GAAe,GAOJsJ,GALQ,WAAmC,IAAlC7H,EAAiC,uDAAzBzB,GAE5B,OAAOyB,G,kBCMP8H,GAAcC,YAAgB,CAC9BC,YAAaC,KACbC,YAAaC,KACbC,QAASP,GACTjC,UAAW1C,EACX5B,KAAMvB,IACNsI,KAAMC,KACNd,IAAKd,KAGL6B,GAAQC,YAAYV,GAAaW,YAAgBC,OAErDvI,OAAOoI,MAAQA,GAEAA,UCffI,IAASrB,OACP,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUiB,MAAOA,IACf,kBAAC,GAAD,QAGJK,SAASC,eAAe,ShBoHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBpB,MAAK,SAAAqB,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAM3J,a,gCiBzI5B,sDAWe2G,IAPC,SAAA5F,GACZ,OAAO,yBAAKC,UAAW6I,IAAMC,KACzB,yBAAK3I,IAAK4I,IAAW3I,IAAI,QACzB,+B,mBCNRxC,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,aAAe,kC,mBCArHD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,4PCM3DC,EAAe,CACfkL,MAAO,CACH,CAACnK,GAAI,EAAGG,QAAQ,oBAAqBiK,WAAY,IACjD,CAACpK,GAAI,EAAGG,QAAQ,aAAciK,WAAY,IAC1C,CAACpK,GAAI,EAAGG,QAAQ,qBAAsBiK,WAAY,KAClD,CAACpK,GAAI,EAAGG,QAAQ,MAAOiK,WAAY,IACnC,CAACpK,GAAI,EAAGG,QAAQ,SAAUiK,WAAY,IACtC,CAACpK,GAAI,EAAGG,QAAQ,cAAeiK,WAAY,GAC3C,CAACpK,GAAI,EAAGG,QAAQ,SAAUiK,WAAY,KAE1CC,QAAS,MAwCAC,EAAuB,SAACC,GAAD,MAAkB,CAAChL,KAvDtC,WAuDsDgL,gBAI1DC,EAAY,SAACtE,GAAD,MAAa,CAAE3G,KAzDrB,aAyDuC2G,WAI7CuE,EAAY,SAACvL,GAAD,8CAAY,WAAOQ,GAAP,eAAAC,EAAA,sEACV+K,IAAWD,UAAUvL,GADX,OAC3BY,EAD2B,OAEjCJ,EAAS8K,EAAU1K,EAASN,OAFK,2CAAZ,uDAKZmL,EAAe,SAACzE,GAAD,8CAAY,WAAOxG,GAAP,SAAAC,EAAA,sEACb+K,IAAWC,aAAazE,GADX,OAEH,IAFG,OAEvB1G,KAAKO,YACdL,EAAS8K,EAAUtE,IAHa,2CAAZ,uDAOf0E,EAAkB,SAAC1L,GAAD,8CAAY,WAAOQ,GAAP,eAAAC,EAAA,sEAChBqH,IAAS6D,WAAW3L,GADJ,OACjCY,EADiC,OAEnCJ,EApBqC,CAAEH,KAxDtB,mBAwD8C8K,QAoBtCvK,EAASN,OAFC,2CAAZ,uDAKlBsL,EAAY,SAACC,GAAD,8CAAU,WAAOrL,GAAP,eAAAC,EAAA,sEACR+K,IAAWI,UAAUC,GADb,OAEE,KAD3BjL,EADyB,QAElBN,KAAKO,YACdL,EAtBqC,CAACH,KA1DnB,qBA0D6CqG,OAsBtC9F,EAASN,KAAKA,KAAKoG,SAHlB,2CAAV,uDAOV+C,IAnEQ,WAAmC,IAAlCjI,EAAiC,uDAAzBzB,EAAc0B,EAAW,uCACrD,OAAQA,EAAOpB,MACX,IAtBS,WAuBL,IAAIyL,EAAU,CACVhL,GAAI,EACJG,QAASQ,EAAO4J,YAChBH,WAAY,GAGhB,OAAO,2BACA1J,GADP,IAEIyJ,MAAM,GAAD,mBAAMzJ,EAAMyJ,OAAZ,CAAmBa,IACxBT,YAAa,KAGrB,IAlCiB,mBAmCb,OAAO,2BACA7J,GADP,IAEI2J,QAAS1J,EAAO0J,UAGxB,IAvCW,aAwCP,OAAO,2BACA3J,GADP,IAEIwF,OAAQvF,EAAOuF,SAGvB,IA5CmB,qBA6Cf,OAAO,2BAAIxF,GAAX,IAAkB2J,QAAQ,2BAAM3J,EAAM2J,SAAb,IAAsBzE,OAAQjF,EAAOiF,WAElE,QACI,OAAOlF,K,+BCrDnB,kHAEMuK,EAAWC,SAAa,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACL,UAAW,0CAINrE,EAAW,CACpBZ,SADoB,WACuB,IAAjCnD,EAAgC,uDAAlB,EAAGF,EAAe,uDAAJ,GAClC,OAAOkI,EAASK,IAAT,qBAA2BrI,EAA3B,kBAAgDF,IAC9CuF,MAAK,SAAAxI,GAAQ,OAAIA,EAASN,SAEvCmG,OALoB,SAKbzG,GACH,OAAO+L,EAASM,KAAT,iBAAwBrM,GAAU,KAE7CwG,SARoB,SAQXxG,GACL,OAAO+L,EAASO,OAAT,iBAA0BtM,KAErC2L,WAXoB,SAWT3L,GAEP,OADA6K,QAAQ0B,KAAK,6CACNf,EAAWG,WAAW3L,KAIxBwL,EAAa,CACtBG,WADsB,SACX3L,GACP,OAAO+L,EAASK,IAAI,WAAapM,IAErCuL,UAJsB,SAIZvL,GACN,OAAO+L,EAASK,IAAI,kBAAoBpM,IAE5CyL,aAPsB,SAOTzE,GACT,OAAO+E,EAASS,IAAI,iBAAkB,CAACxF,OAAQA,KAEnD4E,UAVsB,SAUZa,GACN,IAAMC,EAAW,IAAIC,SAGrB,OAFAD,EAASE,OAAO,QAASH,GAElBV,EAASS,IAAI,gBAAiBE,EAAU,CAC3CP,QAAS,CACL,eAAgB,2BAQnBzL,EAAU,CACnBC,GADmB,WAEf,OAAOoL,EAASK,IAAT,YAEXlM,MAJmB,SAIZD,EAAOc,GAA+B,IAArBC,EAAoB,wDACxC,OAAO+K,EAASM,KAAT,aAA4B,CAACpM,QAAOc,WAAUC,gBAEzDM,OAPmB,WAQf,OAAOyK,EAASO,OAAT,iB,mBC3DfzM,EAAOC,QAAU,IAA0B,+B,qFCEvCC,EAAe,CACf8M,QAAS,CACL,CAAC/L,GAAI,EAAGiG,KAAM,UACd,CAACjG,GAAI,EAAGiG,KAAM,UACd,CAACjG,GAAI,EAAGiG,KAAM,SACd,CAACjG,GAAI,EAAGiG,KAAM,SACd,CAACjG,GAAI,EAAGiG,KAAM,UACd,CAACjG,GAAI,EAAGiG,KAAM,SAElB9F,QAAS,CACL,CAACH,GAAI,EAAGG,QAAQ,OAChB,CAACH,GAAI,EAAGG,QAAQ,cAChB,CAACH,GAAI,EAAGG,QAAQ,MAChB,CAACH,GAAI,EAAGG,QAAQ,OAChB,CAACH,GAAI,EAAGG,QAAQ,SAiBX6L,EAAqB,SAACC,GAAD,MAAqB,CACnD1M,KAlCiB,eAmCjB0M,mBAGWpD,IAlBQ,WAAmC,IAAlCnI,EAAiC,uDAAzBzB,EAAc0B,EAAW,uCACrD,OAAQA,EAAOpB,MACX,IAtBa,eAuBT,IAAI2M,EAAOvL,EAAOsL,eACd,OAAO,2BACJvL,GADH,IAEAP,QAAQ,GAAD,mBAAMO,EAAMP,SAAZ,CAAqB,CAAEH,GAAI,EAAGG,QAAS+L,OAEtD,QACI,OAAOxL,K,mBC5BnB3B,EAAOC,QAAU,CAAC,UAAY,yBAAyB,aAAe,8B,mBCDtED,EAAOC,QAAU,IAA0B,uC,mBCC3CD,EAAOC,QAAU,CAAC,IAAM,0B","file":"static/js/main.682ea2d7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navbar_nav__2FZuE\",\"item\":\"navbar_item__5cD4g\",\"active\":\"navbar_active__1_x7I\"};","import { authAPI } from '../components/API/api.js';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, \r\n    data: {userId, email, login, isAuth}});\r\n\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response = await authAPI.me();\r\n    if(response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    };\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe);    \r\n    if(response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some Error';\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    };\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    };\r\n};\r\n\r\nexport default authReducer;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\r\nimport h from './header.module.css';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Header = props => {\r\n  return (\r\n    <header className={h.header}>\r\n      <img src=\"https://pngimage.net/wp-content/uploads/2018/06/flower-logo-png-2.png\" alt='logo'></img>\r\n      <div className={h.loginBlock}>\r\n        {props.isAuth \r\n          ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div> \r\n          : <NavLink to={'/login'}>Login</NavLink>}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from './Header.jsx';\r\nimport { connect } from \"react-redux\";\r\nimport { getAuthUserData, logout } from '../../Redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.getAuthUserData();\r\n  }\r\n\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuthUserData, logout } )(HeaderContainer);\r\n","import React from \"react\";\r\nimport classes from './navbar.module.css';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <nav className={classes.nav}>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/profile\" activeClassName={classes.active}>Profile</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={classes.active}>Messages</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to='/news' activeClassName={classes.active}>News</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to='/music' activeClassName={classes.active}>Music</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to='/settings' activeClassName={classes.active}>Settings</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to='/users' activeClassName={classes.active}>Users</NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps };\r\n        };\r\n        return u;\r\n    });\r\n};","import { usersAPI } from '../components/API/api.js';\r\nimport { updateObjectInArray } from '../components/Utils/object-helpers.js';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [ ],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] // array of users ids\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', { followed: true })\r\n            };\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', { followed: false })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching,\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({\r\n    type: FOLLOW, userId\r\n});\r\n\r\nexport const unfollowSuccess = (userId) => ({\r\n    type: UNFOLLOW, userId\r\n});\r\n\r\nexport const setUsers = (users) => ({\r\n    type: SET_USERS, users\r\n});\r\n\r\nexport const setCurrentPage = (currentPage) => ({\r\n    type: SET_CURRENT_PAGE, currentPage\r\n});\r\n\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n    type: SET_TOTAL_USERS_COUNT, count: totalUsersCount\r\n}); \r\n\r\nexport const toggleIsFetching = (isFetching) => ({\r\n    type: TOGGLE_IS_FETCHING, isFetching: isFetching\r\n});\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId\r\n});\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(currentPage));\r\n\r\n        const data = await usersAPI.getUsers(currentPage, pageSize);\r\n        \r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }; \r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    const response = await apiMethod(userId);\r\n        \r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    };\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    };\r\n};\r\n\r\nexport default usersReducer;\r\n","import React, {useState} from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport cn from 'classnames';\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, onPageChanged, currentPage, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for(let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    };\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={styles.paginator}>\r\n            {portionNumber > 1 &&\r\n                <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button>}\r\n            \r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <span className={cn({\r\n                        [styles.selectedPage]: currentPage === p\r\n                    }, styles.pageNumber)}\r\n                        key = {p}\r\n                        onClick={(e) => {\r\n                            onPageChanged(p);\r\n                        }}>{p}</span>\r\n                })\r\n            }\r\n            {portionCount > portionNumber &&\r\n                <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button>}\r\n        </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport userPhoto from './../Image/1.png';\r\nimport styles from './users.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} \r\n                                className={styles.userPhoto} alt=\"\" />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed \r\n                        ? <button disabled={followingInProgress\r\n                            .some(id => id === user.id)} \r\n                            onClick={() => {unfollow(user.id)}}>Unfollow</button> \r\n                        : <button disabled={followingInProgress\r\n                            .some(id => id === user.id)} \r\n                            onClick={() => {follow(user.id)}}>Follow</button>}\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{'user.location.city'}</div>\r\n                    <div>{'user.location.country'}</div>\r\n                </span>\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../Common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nconst Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, users, ...props}) => {\r\n    return <div>\r\n        <Paginator currentPage={currentPage}\r\n            onPageChanged={onPageChanged}\r\n            totalItemsCount={totalUsersCount}\r\n            pageSize={pageSize}\r\n        />\r\n        {\r\n        users.map(u => <User user={u} key={u.id}\r\n                        followingInProgress={props.followingInProgress}\r\n                        follow={props.follow}\r\n                        unfollow={props.unfollow} />)\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Users;","import {createSelector} from 'reselect';\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n};\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers } from '../../Redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../Common/Preloader/Preloader.js';\r\nimport { compose } from 'redux';\r\nimport {getUsers, getPageSize, getTotalUsersCount,\r\n        getCurrentPage, getIsFetching, getFollowingInProgress} from '../../Redux/users-selectors'\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n    };\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber, this.props.pageSize);\r\n    };\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageChanged={this.onPageChanged}\r\n                    users={this.props.users}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                    followingInProgress={this.props.followingInProgress}/>\r\n            </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, \r\n        {follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers})\r\n)(UsersContainer);","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = ()  => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n};\r\n\r\nexport default appReducer;","import React from 'react';\r\nimport Preloader from '../Common/Preloader/Preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />}>\r\n        <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n};","import React from \"react\";\nimport \"./App.css\";\nimport HeaderContainer from \"./components/Header/HeaderContainer.jsx\";\nimport Nav from \"./components/Navbar/navbar.jsx\";\nimport { Route, withRouter } from \"react-router-dom\";\nimport UsersContainer from './components/Users/UsersConatiner';\nimport { connect } from \"react-redux\";\nimport { initializeApp } from './Redux/app-reducer.js';\nimport { compose } from \"redux\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport { withSuspense } from './components/HOC/withSuspense';\n\nconst DialogsContainer = React.lazy( () => import('./components/Dialogs/dialogs-container.jsx') );\nconst ProfileContainer = React.lazy( () => import('./components/Profile/ProfileContainer.jsx') );\nconst Login = React.lazy( () => import('./components/Login/Login.jsx') );\n\n\nclass App extends React.Component {\n  \n  componentDidMount () {\n    this.props.initializeApp();\n  }\n  \n  render () {\n    if(!this.props.initialized) {\n      return <Preloader  />\n    }\n\n    return(\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Nav />\n        <div className=\"app-wrapper-content\">\n          <Route exact path=\"/dialogs\" \n            render={withSuspense(DialogsContainer)} />\n          <Route path=\"/profile/:userId?\" \n            render={withSuspense(ProfileContainer)} />\n          <Route path=\"/users\" \n            render = { () => <UsersContainer />} />\n          <Route path=\"/login\" \n            render={() => {\n              return <React.Suspense fallback={<div>Loading...</div>}>\n              <Login />\n              </React.Suspense>\n            }} />\n        </div>\n      </div>\n    );\n  };\n};\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default compose(\n  withRouter, \n  connect(mapStateToProps, {initializeApp})) (App);\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer.js\";\r\nimport thunkMiddleWare from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./app-reducer.js\";\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nlet store = createStore(rootReducer, applyMiddleware(thunkMiddleWare));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './Redux/redux-store';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nimport preloader from '../../Image/preloader.gif';\r\nimport sasha from './preloader.module.css';\r\n\r\nlet Preloader = props =>  {\r\n    return <div className={sasha.box}>\r\n        <img src={preloader} alt=\"ava\" />\r\n        <p></p>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__9G0iv\",\"pageNumber\":\"Paginator_pageNumber__3gMCB\",\"selectedPage\":\"Paginator_selectedPage__3fSbW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3hHjb\",\"loginBlock\":\"header_loginBlock__EztiM\"};","import { usersAPI, profileAPI } from '../components/API/api.js';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message:\"Hey, let texting!\", likesCount: 12},\r\n        {id: 2, message:\"How are u?\", likesCount: 54},\r\n        {id: 3, message:\"Let talk about all\", likesCount: 765},\r\n        {id: 4, message:\"HI!\", likesCount: 34},\r\n        {id: 5, message:\"blabla\", likesCount: 76},    \r\n        {id: 6, message:\"dadadaadada\", likesCount: 5},\r\n        {id: 7, message:\"Hello)\", likesCount: 65}\r\n    ],\r\n    profile: null,\r\n    // status: '',\r\n    // newPostText: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 8,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            \r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {...state, profile: { ...state.profile, photos: action.photos } };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\n\r\nexport const setUsersProfile = (profile) => ({ type: SET_USER_PROFILE, profile }); \r\n\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\n\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\nexport const getUsersProfile = (userId) => async (dispatch) => {\r\n    const response = await usersAPI.getProfile(userId);\r\n        dispatch(setUsersProfile(response.data));\r\n} \r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport default profileReducer;\r\n","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"503f88ef-6b25-48eb-b32b-15f904df0513\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers (currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n                .then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`, {})\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object');\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get('profile/' + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get('profile/status/' + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('profile/status', {status: status});\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n\r\n        return instance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\n\r\n\r\nexport const authAPI = {\r\n    me () {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login (email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout () {\r\n        return instance.delete(`auth/login`);\r\n    },\r\n}\r\n\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/1.e67e358c.png\";","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Victor'},\r\n        {id: 6, name: 'Lena'}       \r\n    ],\r\n    message: [\r\n        {id: 1, message:\"Hi!\"},\r\n        {id: 2, message:\"How are u?\"},\r\n        {id: 3, message:\"YO\"},\r\n        {id: 4, message:\"Hi!\"},\r\n        {id: 5, message:\"Hi!\"}\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: \r\n            let body = action.newMessageBody;\r\n                return {\r\n                ...state,\r\n                message: [...state.message, { id: 8, message: body }],\r\n            };\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({\r\n    type: SEND_MESSAGE,\r\n    newMessageBody\r\n});\r\n\r\nexport default dialogsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__eCNmm\",\"selectedPage\":\"users_selectedPage__1PNjN\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.e4b6323e.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"preloader_box__37sFG\"};"],"sourceRoot":""}